[{"content":"éƒ¨ç½²å‰çš„å‡†å¤‡ Uç›˜ä¸€ä¸ª PCä¸€å°ï¼Œæå‰å®‰è£…å¥½rufusæˆ–balenaEtcherç­‰è½¯ä»¶ç”¨äºåˆ¶ä½œå¯åŠ¨ç›˜ æˆ‘ç”¨äºæ­å»ºAll in Oneçš„é…ç½®å¦‚ä¸‹ï¼š\nä¸»æ¿ B365 CPU i3-8100 å†…å­˜ DDR4 16Gx2 ç¡¬ç›˜ è‡´é’›PC005 512G è¥¿æ•°HC510 è¥¿æ•°HC510 ç”µæº æµ·éŸµSSP-250SUB å®‰è£…PVE ä»PVEå®˜ç½‘ä¸‹è½½é¡µé¢ä¸‹è½½å®‰è£…é•œåƒï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯æœ€æ–°çš„ 8.2 ç‰ˆæœ¬\nå°†ä½ çš„uç›˜æ’å…¥PCï¼Œä½¿ç”¨å¯åŠ¨ç›˜åˆ¶ä½œè½¯ä»¶åˆ¶ä½œå¯åŠ¨ç›˜ï¼Œè¿™é‡Œä»¥balenaEtcherä¸ºä¾‹ï¼š æ‰“å¼€balenaEtcherï¼Œé€‰æ‹©ä»æ–‡ä»¶çƒ§å½•ï¼Œå†é€‰æ‹©åˆšåˆšä¸‹è½½çš„é•œåƒ\né€‰æ‹©ä½ æ’å…¥çš„Uç›˜\nå†ç‚¹å‡»ç«‹å³çƒ§å½•å³å¯ï¼Œæ³¨æ„ä¸è¦ç‚¹å‡»å¯èƒ½å¼¹çª—çš„æ ¼å¼åŒ–Uç›˜\nå°†Uç›˜ä»PCå¼¹å‡ºï¼Œæ’å…¥åˆ°å°†è¦å®‰è£…PVEçš„ä¸»æœºï¼Œéšåé€šè¿‡Uç›˜å¼•å¯¼å¼€æœºï¼ˆå¯èƒ½éœ€è¦è¿›å…¥BIOSè¿›è¡Œè®¾ç½®ï¼‰ï¼Œè¿™é‡Œç›´æ¥å›è½¦æ‰§è¡Œç¬¬ä¸€é¡¹å®‰è£…å‘½ä»¤\nåœ¨åè®®ç•Œé¢é€‰æ‹©I aggreeåï¼Œé€‰æ‹©å®‰è£…çš„ç¡¬ç›˜ï¼Œæ ¹æ®ä½ çš„æƒ…å†µé€‰æ‹©ç¡¬ç›˜ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯512Gçš„é‚£å—å›ºæ€ï¼Œnext\nåŒºåŸŸè®¾ç½®ç•Œé¢ï¼Œåœ¨Countryé€‰é¡¹ä¸­é€‰æ‹©Chinaï¼Œnext\nå¯†ç è®¾ç½®ç•Œé¢ï¼Œè¾“å…¥ä½ çš„å¯†ç ï¼Œå»ºè®®è®¾ç½®çš„å¤æ‚ä¸€ç‚¹ï¼Œnext\nç½‘ç»œè®¾ç½®ç•Œé¢ï¼Œé€‰æ‹©ä¸€ä¸ªç½‘å¡ä½œä¸ºpveçš„ç®¡ç†å…¥å£ï¼Œè¿™é‡Œæˆ‘æœ‰ä¸¤ä¸ªç½‘å¡æˆ‘é€‰æ‹©äº†ç¬¬ä¸€ä¸ªï¼ŒHostnameå¯ä»¥ä»»æ„è®¾ç½®ä¸€ä¸ªï¼ŒIP Addresså¦‚æœä½ ä¸æƒ³æŠŠè½¯è·¯ç”±è®¾ç½®æˆä¸»è·¯ç”±ï¼Œå°±æŠŠåœ°å€è®¾ç½®åˆ°å’Œä½ çš„ä¸»è·¯ç”±åŒä¸€ä¸ªç½‘æ®µï¼Œä¾‹å¦‚æˆ‘æƒ³æŠŠè½¯è·¯ç”±ä½œä¸ºæ—è·¯ç”±ï¼Œæ‰€ä»¥å°†ipè®¾ç½®ä¸º192.168.99.3ï¼ŒGatewayåˆ™è®¾ç½®ä¸ºä¸»è·¯ç”±çš„åœ°å€192.168.99.1ã€‚å¦‚æœå‡†å¤‡å°†è½¯è·¯ç”±ä½œä¸ºä¸»è·¯ç”±ï¼Œåˆ™ipå¯ä»¥åœ¨å±€åŸŸç½‘ç½‘æ®µä¸‹ä»»æ„è®¾ç½®ï¼Œä½†æ³¨æ„ä¸è¦è®¾ç½®æˆä¹‹åä¸ºè½¯è·¯ç”±é¢„ç•™çš„åœ°å€ï¼Œä¸è¿‡ä¹‹åçš„æ•™ç¨‹åªä¼šä»‹ç»å‰ä¸€ä¸ªæ–¹æ¡ˆã€‚DNS Serverä¿æŒé»˜è®¤å³å¯ï¼Œnextï¼ŒInstall\nè¿æ¥PVE ç‚¹å‡»rebootï¼Œå…³æœºå®Œæˆé‡å¯å‰æ‹”å‡ºå¯åŠ¨ç›˜ï¼Œè®©æœºå™¨é€šè¿‡ç¡¬ç›˜å¼•å¯¼ï¼Œéšåç›´æ¥å°†PCçš„ç½‘å£è¿æ¥åˆ°All in Oneä¸»æœºåˆšåˆšé€‰æ‹©ä½œä¸ºç®¡ç†å£çš„ç½‘å£ï¼Œä»¥é˜²é”™è¯¯æˆ‘ä»¬ä¸»åŠ¨å°†PCå’Œä¸»æœºè®¾ç½®åŒä¸€ç½‘æ®µï¼Œå¦‚æœæ˜¯Windows 11çš„è¯ï¼Œæ‰“å¼€è®¾ç½® - ç½‘ç»œå’ŒInternet - é«˜çº§ç½‘ç»œè®¾ç½® - ä»¥å¤ªç½‘ï¼ˆæ³¨æ„æ˜¯ä½ PCçš„ç½‘å¡å¯¹åº”çš„ä»¥å¤ªç½‘ï¼‰- Internet åè®®ç‰ˆæœ¬ 4ï¼ˆTCP/IPv4ï¼‰- å±æ€§ï¼Œå°†PCçš„ipåœ°å€è®¾ç½®æˆåŒä¸€ä¸ªç½‘æ®µï¼Œè¿™é‡Œç”¨çš„æ˜¯192.168.99.99ï¼Œå­ç½‘æ©ç ä¿æŒé»˜è®¤ï¼Œé»˜è®¤ç½‘å…³è®¾ç½®æˆä¸ºè½¯è·¯ç”±é¢„è®¾çš„ç½‘å…³ï¼Œç‚¹å‡»ç¡®å®šå³å¯\néšåæ‰“å¼€PCçš„æµè§ˆå™¨ï¼Œè¾“å…¥192.168.99.3:8006ï¼Œå¦‚æœæç¤ºä¸æ˜¯ç§å¯†è¿æ¥åˆ™ç‚¹é«˜çº§å†ç‚¹å‡»ç»§ç»­å‰å¾€\næ‰“å¼€PVEç®¡ç†é¡µé¢åï¼Œåœ¨ç”¨æˆ·åè¾“å…¥rootï¼Œå¯†ç å³ä¸ºå®‰è£…æ—¶è®¾ç½®çš„å¯†ç ï¼Œæœ€åä¸€ä¸ªé€‰é¡¹å¯ä»¥è®¾ç½®è¯­è¨€\né…ç½®ç½‘å¡ ä½œä¸ºæ—è·¯ç”±çš„è½¯è·¯ç”±å…¶å®åªéœ€è¦ä¸€ä¸ªç½‘å£ï¼Œä½†æ˜¯æ—¢ç„¶æˆ‘ä»¬æœ‰ä¸¤ä¸ªç½‘å¡ä¹Ÿä¸èƒ½æµªè´¹ã€‚åœ¨PVEä¸­ç‚¹å‡»ä½ çš„å®¿ä¸»æœºï¼Œé€‰æ‹©ç³»ç»Ÿ - ç½‘ç»œã€‚å¯ä»¥çœ‹åˆ°å…¶ä¸­ä¸€ä¸ªç½‘å¡PVEå·²ç»è‡ªåŠ¨ä¸ºæˆ‘ä»¬å®Œæˆäº†æ¡¥æ¥\nç‚¹å‡»åˆ›å»º - Linux Bridgeï¼Œåœ¨æ¡¥æ¥ç«¯å£ä¸­è¾“å…¥ç¬¬äºŒä¸ªç½‘å¡çš„åç§°ï¼Œç‚¹å‡»åˆ›å»º\nç¡¬ä»¶ç›´é€šçš„é¢„å…ˆå‡†å¤‡ éœ€è¦æå‰ä¸»æ¿biosä¸­å¼€å¯è™šæ‹ŸåŒ–åŠŸèƒ½ï¼Œä¸åŒçš„å¹³å°è®¾ç½®ä¸åŒã€‚å¼€å¯è™šæ‹ŸåŒ–åï¼Œç‚¹å‡»å®¿ä¸»æœºçš„ShellåŠŸèƒ½ï¼Œä¿®æ”¹grubé…ç½®\n1 vim /etc/default/grub # æ²¡æœ‰Vimåˆ™aptå®‰è£…ï¼Œæˆ–è€…ä½¿ç”¨vi å°†GRUB_CMDLINE_LINUX_DEFAULTé¡¹ä¿®æ”¹ä¸º\n1 GRUB_CMDLINE_LINUX_DEFAULT=\u0026#34;quiet intel_iommu=on iommu=pt\u0026#34; ä¿®æ”¹å®Œæˆåæ›´æ–°grupï¼Œå¹¶é‡å¯\n1 2 update-grub reboot ç»“å°¾ è‡³æ­¤ï¼ŒPVEå·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼Œå…³äºæ¢æºç­‰PVEä¼˜åŒ–å¹¶éå¿…è¦ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šå…¶ä»–æ•™ç¨‹å¯ä»¥å‚è€ƒ\n","date":"2024-06-07T00:00:00Z","image":"https://ratmomo.github.io/p/2024/06/all-in-one%E5%9C%A8%E7%89%A9%E7%90%86%E6%9C%BA%E4%B8%8A%E5%AE%89%E8%A3%85pve/cover_hu5459c0360c2b0cb7a147d2df0eb350ca_1084121_120x120_fill_q75_box_smart1.jpg","permalink":"https://ratmomo.github.io/p/2024/06/all-in-one%E5%9C%A8%E7%89%A9%E7%90%86%E6%9C%BA%E4%B8%8A%E5%AE%89%E8%A3%85pve/","title":"[All in One]åœ¨ç‰©ç†æœºä¸Šå®‰è£…PVE"},{"content":"é…ç½®ç¯å¢ƒ Windows PCä¸€å°ä¸”å·²ç»å®‰è£…æœ‰Git Githubè´¦å·ä¸€ä¸ª åˆ›å»ºåšå®¢ä»“åº“ åœ¨githubä¸»é¡µç‚¹å‡»NewæŒ‰é’®ä¸ºåšå®¢åˆ›å»ºä¸€ä¸ªä»“åº“ åœ¨Repository nameé¡¹å¡«å†™ä»“åº“åï¼Œæ³¨æ„å¿…é¡»ä½¿ç”¨\u0026lt;user\u0026gt;.github.ioçš„æ ¼å¼ï¼Œ\u0026lt;user\u0026gt;ä¸ºGithubç”¨æˆ·åã€‚å¯é€‰åœ¨Descriptionå¡«å†™ä»“åº“æè¿°ï¼Œæ³¨æ„éœ€è¦å‹¾é€‰Initialize this repository with a READMEé€‰é¡¹ã€‚ å®‰è£…Hugo ç‰ˆæœ¬è¾ƒæ–°çš„Windowsæ¨èç›´æ¥ä½¿ç”¨wingetçš„æ–¹å¼å®‰è£…Hugoï¼Œå…¶ä»–æ“ä½œç³»ç»Ÿçš„å®‰è£…æ–¹æ³•å¯ä»¥æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼šHugoå®˜æ–¹æ–‡æ¡£ 1 winget install Hugo.Hugo.Extended å®‰è£…å®ŒæˆåæŸ¥çœ‹hugoç‰ˆæœ¬éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ 1 hugo version åœ¨æœ¬åœ°åˆ›å»ºåšå®¢é¡¹ç›®æ–‡ä»¶å¤¹ åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾åšå®¢é¡¹ç›®å¹¶åœ¨ç»ˆç«¯ä¸­æ‰“å¼€ ä½¿ç”¨hugoåˆ›å»ºç½‘ç«™é¡¹ç›® 1 hugo new site ratmomo-blog # å¯ä»¥æ›¿æ¢æˆä»»æ„ä½ æƒ³è¦çš„åå­— å®‰è£…ä¸»é¢˜ æ‰¾åˆ°ä¸€æ¬¾ä½ å–œæ¬¢çš„ä¸»é¢˜ï¼Œå¯ä»¥ä½¿ç”¨Hugoç¤¾åŒºæä¾›çš„ä¸»é¢˜ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä½ ä»å…¶ä»–åœ°æ–¹æ‰¾çš„å¿ƒä»ªä¸»é¢˜ æ ¹æ®ä¸»é¢˜çš„é¡µé¢æˆ–è€…ä¸»é¢˜æä¾›çš„æ–‡æ¡£å®‰è£…ä¸»é¢˜ï¼Œä¾‹å¦‚æœ¬åšå®¢ä½¿ç”¨çš„ä¸»é¢˜Stackã€‚é‰´äºæˆ‘ä»¬å·²ç»ä½¿ç”¨äº†Gitåˆ›å»ºç½‘ç«™æ–‡ä»¶ï¼Œæˆ‘ä»¬ä½¿ç”¨git submoduleå‘½ä»¤å°†ä¸»é¢˜ä½œä¸ºå­æ¨¡å—ä½¿ç”¨ 1 git submodule add https://github.com/CaiJimmy/hugo-theme-stack/ themes/hugo-theme-stack å°†themesæ–‡ä»¶å¤¹ä¸­å®‰è£…å¥½çš„ä¸»é¢˜ä¸­çš„exampelSiteæ–‡ä»¶å¤¹ä¸­çš„é…ç½®æ–‡ä»¶hugo.yaml(ä¹Ÿæœ‰å¯èƒ½æ˜¯hugo.tomlä¹‹ç±»çš„)å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼Œå†å°†archetypesä¸­çš„æ–‡ä»¶å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹çš„archetypesä¸­ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶çš„æ³¨é‡Šå’Œä¸»é¢˜çš„å®˜æ–¹æ–‡æ¡£ä¿®æ”¹é…ç½®ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯æˆ‘æ¨èçš„Stackï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹é…ç½®ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 baseurl: https://example.com # éœ€è¦ä¿®æ”¹æˆä½ çš„ç½‘ç«™\u0026lt;user\u0026gt;.github.io title: Example Site # éœ€è¦ä¿®æ”¹æˆä½ æƒ³åœ¨æ ‡ç­¾é¡µæ˜¾ç¤ºçš„åç§° DefaultContentLanguage: en # å¦‚æœæ˜¯ä¸­æ–‡åšå®¢æ³¨æ„ä¿®æ”¹æˆzh-cnï¼Œä»¥æ·»åŠ i18næ”¯æŒ hasCJKLanguage: false # å¦‚æœæ˜¯DefaultContentLanguageä¿®æ”¹æˆzh-cnï¼Œä¿®æ”¹ä¸ºtrue sidebar: emoji: ğŸ¥ subtitle: Lorem ipsum dolor sit amet, consectetur adipiscing elit. avatar: enabled: true local: true src: img/avatar.png # å¤´åƒçš„ä½ç½®åœ¨assets/img/avatar.png article: math: false # ä½¿ç”¨æ•°å­¦å…¬å¼éœ€è¦æ‰“å¼€ åˆ›å»ºæ–‡ç«  ä½¿ç”¨Hugoåˆ›å»ºæ–‡ç« ï¼Œç”Ÿæˆçš„Markdowenæ–‡ä»¶çš„å…ƒæ•°æ®ä¸­imageå¯ä»¥æŒ‡å®šæ–‡ç« å°é¢ï¼Œdraftè¡¨ç¤ºæ–‡ç« æ˜¯å¦å±äºè‰ç¨¿ï¼Œè‰ç¨¿æ–‡ä»¶ä¸ä¼šè¢«å‘å¸ƒï¼Œhiddenè¡¨ç¤ºæ–‡ç« æ˜¯å¦ä¼šè¢«éšè— 1 hugo new post/test/index.md å®Œæˆåå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é¢„è§ˆï¼š 1 hugo server -D å‘å¸ƒæ–‡ç«  ç›´æ¥æ‰§è¡Œhugoå‘½ä»¤å¯ä»¥ä¸ºä½ çš„åšå®¢é¡¹ç›®åœ¨publicæ–‡ä»¶å¤¹ä¸­ç”Ÿæˆé™æ€çš„htmlæ–‡ä»¶ï¼Œå‘å¸ƒåšå®¢å®é™…ä¸Šåªéœ€è¦å‘ä»“åº“æ¨é€publicæ–‡ä»¶å¤¹ä¸­çš„å†…å®¹\n1 2 hugo cd .\\public\\ å°†publicæ–‡ä»¶å¤¹åˆå§‹åŒ–ä¸ºgitä»“åº“ï¼Œå¹¶å°†è¿œç¨‹ä»“åº“åœ°å€è®¾ç½®ä¸ºGithub Pagesçš„ä»“åº“åœ°å€\n1 2 3 git init -b main git remote add origin ä½ çš„è¿œç¨‹ä»“åº“åœ°å€ git add . éšåä¾¿å¯ä»¥æ¨é€šè¿‡Gitæ¨é€æ–‡ç« äº†\n1 2 git commit -m \u0026#34;First commit\u0026#34; git push -u origin main ç•ªå¤–ç¯‡ï¼šè‡ªå®šä¹‰ä½ çš„ç«™ç‚¹ è‡ªå®šä¹‰ç½‘ç«™å›¾æ ‡ åœ¨é…ç½®æ–‡ä»¶hugo.yamlä¸­å¯ä»¥æŒ‡å®šç½‘ç«™çš„å›¾æ ‡\n1 2 params: favicon: /favicon.ico # å®é™…ä¸Šçš„ä½ç½®æ˜¯static/favicon.ico å°†ä½ çš„icoå›¾æ ‡æ–‡ä»¶æ”¾ç½®åœ¨ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸­çš„staticæ–‡ä»¶å¤¹å¹¶å‘½åä¸ºfaviconå³å¯\nä¿®æ”¹ä½ çš„ä¸»é¢˜ è¿™é‡Œä»¥ä¸ºstackä¸»é¢˜çš„articleé¡µé¢æ·»åŠ ç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾ä¸ºä¾‹ï¼šåœ¨themes\\hugo-theme-stack\\layouts\\partials\\article\\componentsæ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶music.htmlå†™å…¥ç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾æ¨¡æ¿\n1 2 3 4 \u0026lt;!-- .Params.musicidå¯ä»¥è·å–Markdownæ–‡ä»¶å…ƒæ•°æ®ä¸­çš„musicidè¿™ä¸ªå±æ€§ï¼Œè¿™æ ·æˆ‘ä»¬ä¾¿å¯ä»¥åœ¨markdownä¸­æŒ‡å®šæˆ‘ä»¬è¦æ’å…¥æ–‡ç« çš„éŸ³ä¹ --\u0026gt; \u0026lt;iframe frameborder=\u0026#34;no\u0026#34; border=\u0026#34;0\u0026#34; marginwidth=\u0026#34;0\u0026#34; marginheight=\u0026#34;0\u0026#34; width=100% height=86 src=\u0026#34;//music.163.com/outchain/player?type=2\u0026amp;id={{ .Params.musicid }}\u0026amp;auto=0\u0026amp;height=66\u0026#34;\u0026gt; \u0026lt;/iframe\u0026gt; æˆ‘å¸Œæœ›ç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾åœ¨é¡µé¢ä¸­ä½äºæ–‡ç« ä¸­çš„æ ‡é¢˜ä¹‹ä¸‹ï¼Œæ–‡ç« å†…å®¹ä¹‹ä¸Šï¼Œæ‰€ä»¥éœ€è¦ç¼–è¾‘content.htmlçš„å†…å®¹\n1 2 3 4 5 6 7 8 9 \u0026lt;section class=\u0026#34;article-content\u0026#34;\u0026gt; \u0026lt;!-- Refer to https://discourse.gohugo.io/t/responsive-tables-in-markdown/10639/5 --\u0026gt; {{ $wrappedTable := printf \u0026#34;\u0026lt;div class=\\\u0026#34;table-wrapper\\\u0026#34;\u0026gt;${1}\u0026lt;/div\u0026gt;\u0026#34; }} \u0026lt;!-- ä¸‹é¢ä¸‰è¡Œæ˜¯å¢åŠ çš„å†…å®¹ --\u0026gt; {{ if .Params.musicid }} {{ partial \u0026#34;article/components/music\u0026#34; . }} {{ end }} {{ .Content | replaceRE \u0026#34;(\u0026lt;table\u0026gt;(?:.|\\n)+?\u0026lt;/table\u0026gt;)\u0026#34; $wrappedTable | safeHTML }} \u0026lt;/section\u0026gt; æ‰“å¼€é¡¹ç›®ç›®å½•ä¸‹çš„archetypesä¸­çš„default.mdæ–‡ä»¶ï¼Œåœ¨å…ƒæ•°æ®ä¸­æ·»åŠ ä¸€è¡Œmusicidå±æ€§\n1 musicid: è¿™æ ·å°±å®Œæˆäº†ä¸»é¢˜çš„ä¿®æ”¹ï¼Œä¸è¿‡ç”±äºæˆ‘ä»¬å®‰è£…ä¸»é¢˜ä½¿ç”¨çš„æ˜¯Git submoduleçš„æ–¹æ³•ï¼Œå› æ­¤æœ¬åœ°çš„ä¿®æ”¹å®é™…ä¸Šä¸èƒ½åœ¨Github Pagesäº§ç”Ÿæ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›é¢å¤–çš„å·¥ä½œã€‚é¦–å…ˆæ‰“å¼€ä½ å®‰è£…çš„ä¸»é¢˜çš„Githubä»“åº“å¹¶fork\nä¿®æ”¹æˆ‘ä»¬submoduleçš„è¿œç¨‹ä»“åº“åœ°å€ï¼Œæ‰“å¼€é¡¹ç›®ç›®å½•ä¸‹çš„.gitmodulesï¼Œå°†submoduleçš„urlä¿®æ”¹æˆè¿œç¨‹ä»“åº“çš„åœ°å€ï¼Œéšåæ‰§è¡Œå‘½ä»¤æ›´æ–°è¿œç¨‹ä»“åº“åœ°å€\n1 git submodule sync éšåå°†æˆ‘ä»¬çš„ä¿®æ”¹æ¨é€åˆ°è¿œç¨‹ä»“åº“å³å¯\nç•ªå¤–ç¯‡ï¼šä½¿ç”¨GitHub Actionè‡ªåŠ¨å‘å¸ƒåšå®¢ åˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ï¼Œç”¨äºå­˜æ”¾æ•´ä¸ªé¡¹ç›®ï¼Œä½œä¸ºåšå®¢æºä»“åº“\nä½¿ç”¨git remote set-urlå‘½ä»¤æ›´æ”¹è¿œç¨‹ä»“åº“åœ°å€\n1 2 3 git remote -v git remote set-url origin git@github.com:ratmomo/blog-source.git git remote -v åœ¨æœ¬åœ°ä»“åº“ä¸­åˆ›å»ºæ–‡ä»¶.github\\workflows\\gh-pages.yml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 name: GitHub Pages on: push: branches: - main # Set a branch to deploy pull_request: jobs: deploy: runs-on: ubuntu-22.04 concurrency: group: ${{ github.workflow }}-${{ github.ref }} steps: - uses: actions/checkout@v4 with: submodules: true # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: \u0026#39;0.127.0\u0026#39; # æ³¨æ„ä¿®æ”¹æˆä½ çš„hugoç‰ˆæœ¬ï¼Œä»¥é˜²å…¼å®¹æ€§é”™è¯¯ extended: true # æ˜¯å¦å¯ç”¨hugo extended - name: Build run: hugo --minify working-directory: ./ratmomo-blog # æ³¨æ„ä¿®æ”¹æˆä½ ä½¿ç”¨hugoåˆ›å»ºçš„é¡¹ç›®åç§° - name: Deploy uses: peaceiris/actions-gh-pages@v3 if: github.ref == \u0026#39;refs/heads/main\u0026#39; with: PERSONAL_TOKEN: ${{ secrets.ACTION_TOKEN }} PUBLISH_DIR: ./ratmomo-blog/public # æ³¨æ„ä¿®æ”¹æˆä½ ä½¿ç”¨hugoåˆ›å»ºçš„é¡¹ç›®åç§° EXTERNAL_REPOSITORY: ratmomo/ratmomo.github.io # ä½ çš„Github Pagesè¿œç¨‹ä»“åº“å # PUBLISH_BRANCH: master å¦‚æœä¸æƒ³æ¨é€åˆ°gh-pagesåˆ†æ”¯ï¼Œå¯ä»¥æ·»åŠ è¿™ä¸€è¡Œ åœ¨Github Profileé¡µé¢ä¸‹Developer setting - Personal access tokensä¸­åˆ›å»ºä¸€ä¸ªtokensï¼Œæ³¨æ„å‹¾é€‰repoå’Œworkflowæƒé™\nåœ¨åšå®¢æºä»“åº“çš„Settings-Secrets and variables-Actions-Repository secretsä¸­æ·»åŠ ä¸€ä¸ªACTION_TOKENå†…å®¹ä¸ºåˆšåˆšåˆ›å»ºçš„tokens\næ¥ä¸‹æ¥ç›´æ¥pushæœ¬åœ°çš„ä¿®æ”¹åˆ°è¿œç¨‹åšå®¢æºä»“åº“ï¼ŒGithub Actionä¼šä¸ºæˆ‘ä»¬å®Œæˆç”Ÿæˆé™æ€é¡µé¢å’Œæ¨é€åˆ°GitHub Pagesä»“åº“çš„ä»»åŠ¡\nå¦‚æœä¹‹å‰é…ç½®çš„æ¨é€ç›®æ ‡æ—¶gh-pagesåˆ†æ”¯ï¼Œæ³¨æ„å°†GitHub Pagesä»“åº“çš„Sittings - Pages - Build and deployment - Branchä¿®æ”¹ä¸ºgh-pages\nå‚è€ƒ Hugo Documentation | Hugo\nSite-wide settings | Stack\nå¦‚ä½•ç”¨ GitHub Pages + Hugo æ­å»ºä¸ªäººåšå®¢ Â· å°ç»µå°¾å·´\nHugo åšå®¢å¼•å…¥ Giscus è¯„è®ºç³»ç»Ÿ -\nHugo + GitHub Actionï¼Œæ­å»ºä½ çš„åšå®¢è‡ªåŠ¨å‘å¸ƒç³»ç»Ÿ Â· Pseudoyu\n","date":"2024-06-06T00:00:00Z","image":"https://ratmomo.github.io/p/2024/06/%E4%BD%BF%E7%94%A8-hugo--github-pages-%E9%83%A8%E7%BD%B2%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/cover_huc004bd00789154600b0b30e83cc400c7_2055315_120x120_fill_q75_box_smart1.jpg","permalink":"https://ratmomo.github.io/p/2024/06/%E4%BD%BF%E7%94%A8-hugo--github-pages-%E9%83%A8%E7%BD%B2%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/","title":"ä½¿ç”¨ Hugo + Github Pages éƒ¨ç½²ä¸ªäººåšå®¢"}]